"use strict";

module.exports = (sequelize, DataTypes) => {
  const <%= screen.entity %> = sequelize.define(
    "<%= screen.entity %>",
    {
      id: {
        type: DataTypes.INTEGER,
        autoIncrement: true,
        primaryKey: true
      },
      <% screen.subfields.forEach(function(field){ %>
      <% if(field.type != 'grid' && field.type != 'table' && 
          field.type != 'address' && field.type != 'header'  && 
          field.type != 'relationship'){ %>
      <%= field.name %>: {
        field: "<%= field.column %>",
        type: DataTypes.STRING,
      },
      <% } %>
      <% }); %>
      id_tenant: DataTypes.INTEGER,
    },
    {
      underscored: true,
      paranoid: true,
      tableName: "<%= screen.table %>",
      createdAt: "dataCadastro",
      updatedAt: "dataAlteracao",
      deletedAt: "dataExclusao",
      name: {
        singular: "<%= screen.name %>",
        plural: "<%= screen.plural_name %>",
      },
    }
  );
  
  return <%= screen.entity %>;
};
